Nuevos problemas detectados tras la correcciÃ³n

Fechas corruptas o normalizadas incorrectamente

Todas las tareas presentan due_date = 1970-01-21â€¦ y days_overdue â‰ˆ 20,359.

Esto ocurre porque el mÃ³dulo de auto-due fallback estÃ¡ generando timestamps UNIX vacÃ­os (epoch).

Causa probable: campo date_end null convertido a 0 en milisegundos â†’ mal interpretado como 1970-01-01 UTC+offset.

SoluciÃ³n requerida:

En la normalizaciÃ³n, verificar:

if (!due_date || due_date == 0) { 
    due_date = date_start + 3 days; 
}


Validar formato UTC ISO (YYYY-MM-DDTHH:mm:ssZ) antes de calcular days_overdue.

AsignaciÃ³n masiva como â€œUnassignedâ€

assignment_analytics muestra 420 tareas a â€œUnassignedâ€.

El fallback de owner_id â†’ created_by_name no se ejecutÃ³ correctamente.

Causa: assignee_name quedÃ³ vacÃ­o o se mapeÃ³ despuÃ©s del filtrado.

SoluciÃ³n requerida:

Aplicar el fallback antes del agrupamiento:

assignee = task.owner_id || task.created_by_name || 'Unassigned';


Re-procesar el campo assignment_analytics con ese valor.

Validar que â€œAutomation (Job)â€, â€œJuan Villavicencioâ€, â€œDiana Castroâ€, etc., aparezcan en el output.

MÃ©trica de productividad sin datos reales

completion_rate = 0, avg_completion_time = 0, productivity_trends = â€œStable (0%)â€.

Esto indica que no se estÃ¡n cruzando los estados de cierre (is_completed=true) en la capa analÃ­tica.

SoluciÃ³n:

Ajustar filtro de â€œcompletedâ€ a aceptar is_completed === true o status == 'Completed'.

Validar que los jobs completados se reflejen como tareas finalizadas.

âœ… ValidaciÃ³n esperada tras el segundo ajuste
Prueba	Resultado esperado
A. Fecha real	due_date â‰¥ date_start, no anterior a 2020
B. Overdue rate	<30% (segÃºn fechas actuales)
C. Assignment	â‰¥5 usuarios distintos (Juan, Ana, Diana, Automation, Jeison)
D. Completion rate	>0% (al menos 1 tarea cerrada)
E. Productivity trends	Variaciones semanales no nulas
ğŸ” ValidaciÃ³n rÃ¡pida que el desarrollador debe ejecutar

Ejecutar nuevamente:

get_task_management_analytics --days_back 60


â†’ Confirmar que due_date > 2025-01-01.

Comparar:

get_tasks --is_completed false --size 20


â†’ Validar created_by_name â‰  null â†’ debe aparecer en assignment_analytics.

Re-probar:

get_user_productivity_analytics --days_back 60


â†’ Confirmar active_members > 0.

Verificar logs: no deben aparecer 1970-01-xx ni owner_id=null.